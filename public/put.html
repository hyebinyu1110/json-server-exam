<!DOCTYPE html>
<html lang="en">

<body>
    <pre></pre>
    <script>
        //XMLHttpRequest 객체 생성
        const xhr = new XMLHttpRequest();
        // HTTP 요청 초기화
        //todo 리소스에서 id로 todo를 특정하여 id를 제외한 리소스 전체를 교체
        xhr.open("PUT", '/todos/4');

        // 요청 몸체에 담아 서버로 전송할 MIME 타입을 지정
        xhr.setRequestHeader('content-type', 'application/json');

        // HTTP 요청 전송
        // 새로운 todo를 전송하기위해 페이로드를 서버에 전송하여야 한다. 
        xhr.send(JSON.stringify({ id: 5, content: 'Svelte', completed: true }));
        // load 이벤트는 요청이 성공적으로 완료된 경우 발생한다.
        xhr.onload = () => {
            //status 프로퍼티 값이 200(OK)나 201(created) 이면 정상적으로 응답된 상태이다.
            if (xhr.status === 200) {
                document.querySelector('pre').textContent = xhr.response;
            } else {
                console.error('Error', xhr.status, xhr.statusText);
            }
        };
    </script>
</body>

</html>